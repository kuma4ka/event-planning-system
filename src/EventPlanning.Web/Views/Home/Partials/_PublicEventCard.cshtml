@using EventPlanning.Application.DTOs.Event
@model EventDto

<div class="col-md-6 col-lg-4 col-xl-4 d-flex">
    <div class="card h-100 w-100 shadow-sm hover-effect transition-transform border-0">
        <div class="position-relative" style="overflow: hidden;">
            @if (!string.IsNullOrEmpty(Model.VenueImageUrl))
            {
                <img src="@Model.VenueImageUrl" class="card-img-top" style="height: 220px; object-fit: cover;"
                    alt="@Model.Name">
            }
            else
            {
                <div class="card-img-top w-100 d-flex align-items-center justify-content-center text-white"
                    style="height: 220px; background: linear-gradient(135deg, var(--color-dark-teal), var(--color-air-force-blue));">
                    <i class="bi bi-calendar-event fs-1 opacity-50"></i>
                </div>
            }

            <span class="position-absolute top-0 end-0 m-3 badge bg-white text-dark shadow-sm">
                @Model.Type
            </span>
        </div>

        <div class="card-body d-flex flex-column p-4">
            <div class="text-uppercase fw-bold small mb-2"
                style="color: var(--color-air-force-blue); letter-spacing: 1px;">
                <i class="bi bi-calendar3 me-1"></i> @Model.Date.ToString("MMM dd, yyyy â€¢ HH:mm")
            </div>

            <h5 class="card-title fw-bold mb-2 fs-5">
                <a asp-controller="Event" asp-action="Details" asp-route-id="@Model.Id"
                    class="text-decoration-none stretched-link" style="color: var(--text-main);">
                    @Model.Name
                </a>
            </h5>

            <p class="card-text text-muted small mb-3 flex-grow-1" style="line-height: 1.6;">
                @(Model.Description.Length > 100 ? Model.Description.Substring(0, 97) + "..." :
                    Model.Description)
            </p>

            <div class="d-flex align-items-center text-muted small pt-3 border-top mt-auto"
                style="border-color: var(--border-light) !important;">
                <i class="bi bi-geo-alt-fill me-2 text-danger"></i>
                <span class="text-truncate">@Model.VenueName</span>
            </div>
        </div>
    </div>
</div>
